components:
  schemas:
    Info:
      type: object
      properties:
        version:
          type: string
        activeServices:
          type: array
          items:
            type: string
            enum: ["http", "kafka", "smtp"]
    Service:
      type: object
      properties:
        name:
          type: string
        description:
          type: string
        version:
          type: string
        type:
          type: string
          enum: ["http", "kafka"]
        metrics:
          $ref: '#/components/schemas/Metrics'
    Metrics:
      type: array
      items:
        $ref: '#/components/schemas/Metric'
    Metric:
      type: object
      properties:
        name:
          type: string
        value:
          type: number
    Events:
      type: array
      items:
        $ref: '#/components/schemas/Event'
    Event:
      type: object
      properties:
        id:
          type: string
        traits:
          type: object
          additionalProperties:
            type: string
        time:
          type: integer
        data:
          type: object
          additionalProperties: true
        workflows:
          type: array
          items:
            $ref: '#/components/schemas/EventWorkflow'
    EventWorkflow:
      type: object
      properties:
        duration:
          type: integer
        tags:
          type: object
          additionalProperties:
            type: string